type Bet @entity {
  id: ID!
  account: String!        
  bettor: String!         
  minOdds: BigInt!        
  amount: BigInt!         
  status: BetStatus!      
  isLive: Boolean!        
  isSOLfree: Boolean!     
  selections: [BetSelection!]! @derivedFrom(field: "bet")
  # selections: String!
  betId: Int!
  freeBetId: Int!          
  result: Result!         
  settledOdds: BigInt!  

  placed: Record @derivedFrom(field: "betPlaced")
  confirmed: Record @derivedFrom(field: "betConfirmed")
  claimed: Record @derivedFrom(field: "betClaimed")
  canceled: Record @derivedFrom(field: "betCanceled")
}

type BetSelection @entity {
    id: ID!
    bet: Bet!
    selection: Selection!
}

type Selection @entity {
  id: ID!             
  conditionId: String!
  outcomeId: String!
  bets: [BetSelection!]! @derivedFrom(field: "selection")
}

type Record @entity{
  id: ID!
  betPlaced: Bet
  betConfirmed: Bet
  betClaimed: Bet
  betCanceled: Bet
}

enum BetStatus {
  PENDING
  ACTIVE
  FAILED
  CLAIMED
  LOST
  CANCELED
}

enum Result {
  PENDING
  WIN
  LOST
  REFUND
}

